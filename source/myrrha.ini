[beam_calculator.lightwin.envelope_longitudinal]
TOOL = LightWin
FLAG_PHI_ABS = True
FLAG_CYTHON = False
N_STEPS_PER_CELL = 20
METHOD = RK

[beam_calculator.tracewin.envelope]
TOOL = TraceWin
SIMULATION TYPE = noX11 full
partran = 0

[beam.myrrha]
LINAC = MYRRHA
E_REST_MEV = 938.27203
Q_ADIM = 1.
E_MEV = 16.6
F_BUNCH_MHZ = 176.1
I_MILLI_A = 0.0
SIGMA_ZDELTA =
   2.9511603e-06, -1.9823111e-07,
   -1.9823111e-07, 7.0530641e-07
; Input sigma beam matrix in [z-dp/p] plane

[wtf.quick_debug]
opti method = least_squares
strategy = k out of n
idx = cavity
failed =
   130
k = 1
objective = w_kin, phi_abs_array, mismatch_factor
scale objective = 1., 1., 1.
position = end of last altered lattice
phi_s fit = True

[wtf.manual]
opti method = least_squares
strategy = manual
idx = cavity
failed =
   1, 2, 3 | 15, 16,
   15
manual list =
   4, 5, 6, 7, 8 | 13, 14, 17, 18,
   14, 16
objective = w_kin, phi_abs_array, mismatch_factor
position = end of last altered lattice
phi_s fit = True

[wtf.k_out_of_n]
opti method = least_squares
strategy = k out of n
k = 5
idx = cavity
failed =
   15
objective = w_kin, phi_abs_array, mismatch_factor
scale objective = 1., 1., 1.
position = end of last altered lattice
phi_s fit = True

[wtf.global]
opti method = least_squares
strategy = global
idx = cavity
failed =
   130
objective = w_kin
scale objective = 1.
phi_s fit = False


[post_tracewin.quick_debug]
SIMULATION TYPE = noX11 full
hide
current1 = 0.
nbr_part1 = 10

[post_tracewin.precise]
SIMULATION TYPE = noX11 full
hide
nbr_part1 = 100000
